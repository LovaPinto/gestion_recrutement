


{% block stylesheets %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

    body {
        font-family: 'Inter', sans-serif;
        background-color: #0d0d0d;
        color: #f5f5f5;
        margin: 0;
        padding: 0;
    }

    .offer-container {
        max-width: 900px;
        margin: 50px auto;
        background-color: #1a1a1a;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        padding: 40px 30px;
        position: relative;
    }

    /* TITRE */
    .offer-title {
        font-size: 36px;
        font-weight: 700;
        color: #2563eb;
        text-align: center;
        margin-bottom: 10px;
    }

    /* STATUS */
    .offer-status {
        position: absolute;
        top: 20px;
        right: 30px;
        padding: 10px 20px;
        font-weight: 700;
        border-radius: 25px;
        font-size: 14px;
        text-align: center;
        color: #fff;
        box-shadow: 0 0 8px rgba(0,0,0,0.4);
        animation: pulse 1.5s infinite alternate;
    }

    .offer-status.active {
        background: #16a34a; /* vert */
        box-shadow: 0 0 10px rgba(22,163,74,0.6);
    }

    .offer-status.inactive {
        background: #dc2626; /* rouge */
        box-shadow: 0 0 10px rgba(220,38,38,0.6);
    }

    @keyframes pulse {
        0% { transform: scale(1); }
        100% { transform: scale(1.05); }
    }

    /* ENTREPRISE & DEPARTEMENT */
    .offer-company,
    .offer-department {
        font-size: 24px;
        font-weight: 600;
        text-align: center;
        margin: 10px 0;
        color: #e5e5e5;
    }

    /* DESCRIPTION */
    .offer-section {
        padding: 20px 30px;
        margin: 20px 0;
        background-color: #111111;
        border-radius: 10px;
    }

    .offer-section h3 {
        margin-bottom: 12px;
        color: #2563eb;
        font-weight: 700;
        font-size: 20px;
    }

    .offer-section p {
        line-height: 1.6;
        font-size: 15px;
    }

    /* META (Contrat + Expérience) */
    .offer-meta {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin-top: 20px;
        flex-wrap: wrap;
    }

    .meta-box {
        background-color: #111111;
        padding: 12px 20px;
        border-radius: 10px;
        text-align: center;
        font-weight: 600;
        min-width: 150px;
        transition: all 0.3s ease;
        cursor: default;
    }

    .meta-box span {
        display: block;
        color: #2563eb;
        font-size: 14px;
        margin-top: 4px;
    }

    /* JOB SKILLS */
    .job-skills {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        padding: 0;
        margin: 0;
    }

    .job-skills li {
        background-color: #96a8cfff;
        color: #fff;
        padding: 6px 12px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .job-skills li:hover {
        background-color: #1d4ed8;
        transform: scale(1.05);
    }

    /* DATES */
    .offer-dates {
        display: flex;
        justify-content: center;
        gap: 50px;
        margin-top: 15px;
        font-size: 14px;
        color: #9ca3af;
    }

    /* BOUTON POSTULER */
    .apply-btn {
        display: inline-block;
        width: 220px;
        margin: 30px auto 0 auto;
        padding: 14px 0;
        text-align: center;
        background: rgba(37, 99, 235, 0.7);
        color: #fff;
        font-weight: 700;
        font-size: 16px;
        border-radius: 50px;
        text-decoration: none;
        transition: all 0.3s ease;
        display: block;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 0 8px rgba(37,99,235,0.4);
        animation: pulse 1.5s infinite alternate;
    }

    .apply-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 20px rgba(37,99,235,0.6);
    }

</style>
{% endblock %}

{% block body %}
<div class="offer-container">

    <!-- TITRE -->
    <div class="offer-title">{{ jobOffer.title }}</div>

    <!-- STATUS -->
    <div class="offer-status {{ jobOffer.status == 'active' ? 'active' : 'inactive' }}">
        {{ jobOffer.status|capitalize }}
    </div>

    <!-- ENTREPRISE & DEPARTEMENT -->
    <div class="offer-company">{{ jobOffer.company ? jobOffer.company.companyName : 'N/A' }}</div>
    <div class="offer-department">{{ jobOffer.department ? jobOffer.department.departmentName : 'N/A' }}</div>

    <!-- DESCRIPTION -->
    <div class="offer-section">
        <h3>Description</h3>
        <p>{{ jobOffer.description }}</p>
    </div>

    <!-- META (CONTRAT + EXPERIENCE) -->
    <div class="offer-meta">
        <div class="meta-box">
            Type de contrat
            <span>{{ jobOffer.offerType }}</span>
        </div>
        <div class="meta-box">
            Niveau d'expérience
            <span>{{ jobOffer.experienceLevel }}</span>
        </div>
    </div>

    <!-- JOB SKILLS -->
    {% if jobOffer.jobSkills is defined and jobOffer.jobSkills|length > 0 %}
    <div class="offer-section">
        <h3>Compétences requises</h3>
        <ul class="job-skills">
            {% for skill in jobOffer.jobSkills %}
                <li>{{ skill }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- DATES -->
    <div class="offer-dates">
        <span>Date de publication: {{ jobOffer.dateCreation ? jobOffer.dateCreation|date('d/m/Y') : '' }}</span>
        <span>Deadline: {{ jobOffer.deadline ? jobOffer.deadline|date('d/m/Y') : '' }}</span>
    </div>

    <!-- BOUTON POSTULER -->
<a href="{{ path('job_apply', {id: jobOffer.id}) }}" class="apply-btn">Postuler</a>


</div>
{% endblock %}
